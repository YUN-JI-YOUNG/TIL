# 함수   
    
## 1. 변수   
###### 값을 저장할 때 사용하는 식별자(= 변수, 함수, 모듈, 클래스 등을 식별하는데 사용하는 이름)      
- 대입연산자 ```=```사용 -> 변수명 = 값     
- 파이썬의 모든 정보는 객체이며, 변수는 객체에 대한 식별자 역할 수행     
```
a = 30  // 메모리 공간에 정수 30의 값을 가진 객체 생성 , 변수 a 가 해당 객체 참조
b = 30 // 파이썬에서 리터럴을 이용해 만든 객체는 재사용하므로, 위에서 만든 객체를 b도 참조. 즉, 동일 객체 참조로 a is b 는 true  
```        
- ```num``` 정수형 변수, ```str``` 문자열 변수, ```lst``` 리스트 변수   
- 변수의 자료형 확인 -> type 함수 사용! ```type(변수명)```       
 값에 의해 자료형이 결정되는 동적 타이핑 언어인 파이썬의 특징으로, 저장된 값의 자료형에 의해 변수 자료형이 결정     
- TypeError 오류 발생 가능성 낮추기 위해, 변수는 하나의 자료형만 사용할 것을 권장   
- 변수명은 식별자 규칙에 의해 결정   
- 식별자 규칙 : 숫자로 시작 불가, 대소문자 구분해서 ```문자```, ```숫자```, ```_``` 사용하여 생성    
  　　　　파이썬3부터는 유니코드 지원으로 한글 변수명 사용 가능       
- 파이썬의 예약어로 사용할 수 없는 변수명 : ```False```, ```class```, ```finally```, ```is```, ```return```, ```None```, ```continue```, ```for```, ```lambda```, 
```try```, ```True```, ```def```, ```from```, ```nonlocal```, ```while```, ```and```, ```del```, ```global```, ```not```, ```with```, ```as```, ```elif```, ```if```, ```or```,
```yield```, ```assert```, ```else```, ```import```, ```pass```, ```break```, ```except```, ```in```, ```raise```     
- 변수는 기본적으로 1번에 1개씩 생성하지만, 1번에 여러 개의 변수 생성 가능   
  - 튜플을 이용해 변수 생성하고 초기화하는 방법   
  - 리스트를 이용해 변수 생성하고 초기화하는 방법   
- 파이썬에서는 변수의 특징으로 인해 쉽게 변수의 값 교체 가능. ```x,y = y,x``` 만 해도 교체   
- 파이썬에선 Garbage Collector에 의해 객체가 사용한 메모리 공간 자동관리 -> 개발자가 직접 메모리 관리 할 필요 X      
　-> 하지만 변수 제거하고 싶다면, ```del(변수명) 함수``` 사용      
    
 #### scope
- 변수의 유효범위   
- 전역 스코프 : 어디서나 접근 가능한 전역 변수   
- 함수 스코프 : 함수 내에서만 접근 가능한 지역 변수      


#### 변수 접근 절차   
1. 함수 스코프 내에서 가장 먼저 탐색. 　　　　　2. 함수 스코프 내 변수 없으면, 전역 스코프에서 탐색     
-> 지역변수와 전역변수의 이름이 같으면, 지역변수를 먼저 탐색하므로 전역변수에 접근 못할 수도 있음.     
-> 접근하고자 하는 전역변수 앞에 global 기재     
       
 #### 매개변수 : 함수 호출 시 입력값을 전달 받기 위한 변수   
   - 변수이므로 전달받은 인자 값에 의해 타입 결정   
   - 함수에 입력값을 전달할지 여부를 결정하는 요인   
   - 매개변수에 전달할 인자 값이 생략되었을 때 사용할 기본 값 지정 가능.   
    ```def agc(x,y,z="yes")``` 이면 매개변수 z의 기본값은 yes        
   -> 기본 값을 가지는 매개변수는 일반 매개변수 앞 위치 불가   
   
   - 선언된 매개변수의 개수만큼 인자 전달  -> 매개변수와 인자의 개수가 다르면 오류 발생    
   -  `가변 인자 리스트` (`*매개변수`)         
      - ```언팩 연산자(*인자)``` -> ```def c_sum(*a):``` 같은 형식으로 사용하면 인자를 튜플 형식으로 처리(패킹)           
      ->  인자 개수만큼 for문 반복 실행   
      - 언패킹 : ``` x = [1,2,3] ; print(numbers(*x)) ; (1,(2,3))    // numbers 함수가 a, *x를 출력하는 함수라고 했을때 ```      
      - 파이썬은 매개변수의 개수를 가변적으로 사용할 수 있도록 언팩 연산자 제공    
      - 매개변수에 적용하면 인자를 튜플 형식으로 처리   
      - 언팩 연산자를 이용하면 반환 값을 1개 이상의 값 처리 가능   
      - 가변형 매개변수를 가장 마지막 매개변수로 지정해야 부작용 없이 사용 가능        
      -> 명시적 매개변수와 혼합 가능.    
      즉, ```def c_sum(a, *b)``` 같은 형식이면 a에 첫 번째 인자, b에 두 번째 인자부터 튜플형식으로 전달    
            
      - ` 가변 키워드 인자` (`**매개변수`)    
      - ```키워드 언팩 연산자(**인자)```  
      ```
      def abc(**p):                     // 선언
      for k in p.keys()                 // 매개변수에서 함수 호출을 통해 키 리스트 구함    
          print("{0} : {1}".format(p,abc[p]))   
      abc(i=1, j=2, q=3) 
      
      <결과>   
      i : 1
      j : 2
      q : 3
      ``` 
      - 키워드 언팩 연산자도 매개변수의 개수를 갸번적으로 사용하기 위함이고,     
      키워드 인자들(키=값 형식)을 전달하여 매개변수를 딕셔너리 형식으로 처리     
      
</br>   


## 2. 함수   
###### 프로그램에서 어떤 특정 기능을 수행할 목적으로 만들어진 재사용 구조의 코드 부분     

- 하나의 프로그램을 여러 부분으로 나눌 수 있기 때문에 효율적이고 구조화된 프로그래밍 가능    
   - 사용법 : 함수의 매개변수에 인자를 대입하여 반환값 출력   
- 동일 함수를 필요할 때마다 호출할 수 있음   
- 수정 용이   
- 순수 함수 : 결과값 반환 외에 외부에 영향을 주지 않는 함수   
-> python 같은 함수형 프로그래밍 지원 언어에서는 순수함수를 인자나 반환값으로 사용 가능     
- 인터프리터 언어의 경우 함수 선언 위치가 매우 중요! 
-> 차례로 실행할 때, 함수 선언없이 해당 함수를 사용하면 오류 발생      
- 사용자 정의 함수 선언 가능     
```
def 함수명(매개변수):
    명령문1
    명령문2
    return문   // return x + y 같은 형식이고, 필요할 경우에만 사용하며, 함수를 호출한 위치에 반환 값이 전달된다.   
```   
`※ 반환 값 : 함수가 수행 결과를 호출한 곳으로 돌려줄 필요가 있는지 여부를 결정하는 요인`     
   
</br>   

### 2-1. 함수의 유형   
1. 매개변수 O, 반환 값 O     
- 입력값이 필요하고, 호출한 곳으로 반환 값 돌려주는 함수     
-> ``` a = (함수명)(1,2)``` 이런식으로 함수를 호출하면 반환 값을 호출한 곳으로 돌려주므로 변수 a 에는 return문 값 할당      
   
2. 매개변수 X, 반환 값 O      
- 입력값은 필요없고, 호출한 곳으로 반환 값 돌려주는 함수   
   
3. 매개변수 O, 반환 값 X     
- 입력값이 필요하고, 호출한 곳으로 반환 값 돌려줄 필요가 없는 함수 - return문 X     
   
4. 매개변수 X, 반환 값 X    
- 입력값이 필요없고, 호출한 곳으로 반환 값을 돌려줄 필요도 없는 함수 - return문 X      
</br>   

### 2-2. 고급 함수   
#### 2-2-1. 중첩 함수   
###### 파이썬은 중첩 함수를 지원하므로 함수 내에 중첩함수를 선언하여 사용 가능하다.     
- 중첩함수를 포함하는 함수 내에서만 호출 가능   
- 중첩함수는 중첩함수뿐만 아니라 중첩함수를 포함하는 함수의 스코프에도 접근 가능 (= 지역변수 접근 가능)      
- 함수의 매개변수로 함수 인자를 전달받아 함수 내에서 호출해서도 사용 가능   
-> 프로그램의 유연성 향상을 위해 매개변수로 함수를 전달하는 방식 선호   

#### 2-2-2. 람다식(함수)   
###### 매개변수에 매번 함수를 전달하는 방식이 불편할 수 있어 개선하기 위해 만든 함수   
```Lambda 매개변수 : 반환값```   
- 변수에 저장하여 재사용 가능한 함수처럼 사용  
- 기존 함수처럼 매개변수의 인자로 전달 가능   
- 함수의 매개변수에 직접 인자로 전달 가능      

#### 2-2-3. 클로저 기법   
###### 중첩함수 자체를 반환값으로 사용하는 기법   
- 중첩함수 자체를 반환값으로 사용하면    
(1) 정보 은닉 구현 가능 　(2) 전역변수 남용 방지 　　(3) 메서드가 하나인 객체를 만드는 것보다 우아한 구현 가능       
```
def a_func():
    i = 0
    
    def b_func():
        nonlocal i     // i가 b_func 함수의 지역변수가 아니라는 뜻. 즉 a_func 함수에서 찾아라   
        i += 1 
        return i
        
    return b_func()    // a.func() 함수의 반환값이 b_func() 함수   
    
result_i = a_func()    // a.func() 함수의 반환값인 b_func() 함수를 호출하여 i에 1씩 증가한 값을 반환하여 result_i에 저장  

print("{0}".format(result_i()))   // a_func() 함수의 반환값이 함수이므로 result_i 도 함수 취급   
print("{0}".format(result_i()))
print("{0}".format(result_i()))

<결과>
1
2
3
```    
</br>      
   
### 2-3. 내장함수   
- 함수를 직접 만들어 사용할 수도 있지만, 이미 검증된 함수를 활용하면 생산성과 품질 향상 효과   
- 프로그래밍 시작 전 현재 필요한 기능이 포함된 함수가 무엇이 있는지 API 문서 들여다보는 습관 필요   
`※ API : Application Programming Interface`   
   

#### 2-3-1. 내장함수 종류    
`수치형 데이터 조작을 위한 함수 = 수치 연산 함수`     
- abs() : 절대값 반환   
- divmod(a,b) : a를 b로 나눴을 때의 몫, 나머지를 튜플 객체로 반환 `문자열 포맷팅 시 반환값은 언팩 연산자 사용 필요`     
- pow(a,b) : a를 b제곱한 결과 반환     

    
` 시퀀스형 / 반복 가능한 자료형을 다루는 함수`   
###### 시퀀스형 - 순서 중요 / 반복 가능 자료형 - 순서 의미없음     
- map(f,b) : b 에 반복 가능한 자료형을 전달받기 -> 자료형의 각 항목에 대해 함수 f를 적용한 결과를 맵 객체로 반환      
`함수를 인자로 받아야하므로 람다식을 자주 사용`-> ```map(lambda x : x + 3, list)```는  list의 각 항목에 + 3 하여 반환     

(1) 반복 가능한 자료형인 List, Tuple, Set, dictionary, 문자열 등을 인자로 전달하는 함수        
- all() : 항목 모두가 True이면 True 반환, 하나라도 False가 있으면 False 반환   
- any() : 항목 모두가 False이면 False 반환, 하나라도 True가 있으면 True 반환    
- filter() : 조건에 해당하는 항목을 걸러내는 함수   
`첫번째 매개변수는 전달받은 인자에 대해 T/F 반환 -> 두번째 매개변수는 반복 가능 자료형을 인자로 전달하여 반환값 출력`
`두번째 매개변수의 자료형 인자가 첫번째 매개변수의 인자로 전달된다 = 자료형 인자 중 첫번째 인자의 조건에 맞는 값 반환`       
```filter(lambda x : x % 2 == 0, list)```는 list의 각 항목에 대해 2의 배수인 항목들만 반환    
   
(1) - 1. 반복 가능한 자료형을 인자로 전달 받는 함수   
- list() : 리스트로 변환해 반환   
- tuple() : 튜플로 변환해 반환   
- set() : 셋으로 변환해 반환 - 중복을 허용하지 않으므로 유일값으로만 구성     
- dict() : 딕셔너리로 변환해 반환     
- max() : 항목 중 가장 큰 값 반환     
- min() : 항목 중 가장 작은 값 반환    
- sorted() : 항목들로부터 오름차순으로 정렬된 리스트 생성하여 반환    
`내림차순으로 정렬된 리스트 객체는 list(reversed(sorted()))로 생성`   
- zip() : 동일 위치(=인덱스)의 항목을 묶어 튜플을 항목으로 구성하는 zip 객체 생성         
`인자 최소 2개 이상`, `인자로 전달된 객체는 자료형과 항목의 개수가 동일해야 함`   
  

(2) 시퀀스형인 List, Tuple, 문자열 등을 입력 받는 함수   
- enumerate() : 인덱스를 포함하는 튜플 객체를 항목으로 구성하는 enumerate 객체 반환 `문자열 포맷팅 시 언팩 연산자 사용 필요`  
`튜플 객체 - 인덱스와 값으로 구성`         

(2) - 1. 시퀀스형 객체를 생성하는 함수   
- range(a,b,c) : a는 시작값, b는 종료 값, c는 증감치   


`변환 함수`   
- chr() : 정수 형태의 유니코드 값 -> 해당 유니코드의 문자     
- ord() : 문자 -> 유니코드 값(10진수)      
- hex() : 10진 정수 -> 16진수     
- int() : 숫자 형식의 문자열, 부동 소수점 숫자 -> 정수        
`int(x,2) = x를 2진수로 판단하여 10진수로 변환하여 반환`   
- float() : 숫자 형식의 문자열, 정수 -> 부동 소수점 숫자   
- str() : 인자로 전달된 객체 -> 문자열      
  
`객체 조사를 위한 함수'   
- dir() : 인자로 전달된 객체가 갖고 있는 속성 정보(변수,매서드 등)를 리스트 객체로 반환   
`만약, 인자 없이 호출하면 현 지역 스코프에 대한 정보를 리스트 객체로 반환`   
- globals() : 현재의 전역 심볼 테이블을 보여주는 딕셔너리 반환   
`호출된 모듈이 아닌 현재 모듈에서 정의된 전역변수와 함수, 클래스의 정보 포함`   
- locals() : 현재의 지역 심볼 테이블을 보여주는 딕셔너리 반환   
`매개변수를 포함한 지역변수와 중첩함수의 정보 포함`    
- id() : 인자로 전달된 객체의 고유 주소(참조값) 반환    
`고유 주소는 보통 16진수로 표현하므로 hex함수 적용`   

- isinstance(obs,class) : obs(객체)가 class의 인스턴스인지의 여부를 T/F로 반환   
- issubclass(class1, class2) : class1이 class2의 서브클래스인지의 여부를 T/F로 반환   

`실행 관련 함수`   
- eval() : 실행 가능한 표현식의 문자열을 인자로 전달받아 표현식을 실행한 결과값 반환   
```   
a = "1 + 2"
print(eval(a))
<결과>
3
```   
