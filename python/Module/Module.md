## 모듈과 패키지

###### 모듈 < 패키지 < 라이브러리

### 1. 모듈

- 특정 기능을 파이썬 파일 단위로 작성한 것

- 파이썬 폴더 내에 함수 정의하면 다른 파일에서`import 파일명`으로 불러와 해당 함수 사용 가능 
- `from 모듈명 import 함수명` 으로 특정 함수만 불러오기

-> 모듈명.함수명으로 함수사용하지 않고 함수명() 으로만 사용 가능

- `from 모듈명 import *` 으로 해당 모듈 내의 모든 함수 불러오기

-> 그냥 모듈만 import 하면 모듈명.함수명으로 함수사용해야하는데 모든 함수 불러오면 함수명()만으로 사용 가능 / 부담될 수 있으므로 권장 X
 
 </br>    

### 2. 패키지

- 여러 모듈/하위패키지로 구조화 
- `패키지명.module`로 활용
- 폴더에 `__init__.py` 파일을 만들면 하나의 패키지로 인식 -> 파일 내에 내용은 X

-> 파이썬 3.3 버전부턴 없어도 되지만, 하위 버전 호환 등을 위해 생성해야 한다.

- a 패키지 > b 패키지 > c 모듈 로 구조화되어있다면, `from a.b import c` 로 c 모듈 임포트 가능

  -> c.함수명 으로 함수 사용가능 

  `from a.b.c import *` 로 c 모듈의 모든 함수 임포트 가능 -> 함수명()으로 c 내의 함수 사용가능

  -> 무리가 될 수 있으므로 권장하진 않음

- 만약 다른 패키지 내의 모듈 이름이 같다면, `from a.b import c as d` 처럼 c모듈을 d라고 해당 환경에서만 변경 가능

- 여러 모듈을 `,`로 동시에 임포트 가능  `from a import c, d` 

- `from 패키지.모듈 import a` 로 패키지 안의 모듈안의 a라는 변수 값 출력 가능     

</br>    

### 3. 라이브러리

- 모듈과 패키지의 집합

</br>    

### 4. 파이썬 표준 라이브러리(python standard library/ PSL)

- 파이썬에 기본적으로 설치된 모듈, 내장함수

- 외부 라이브러리(3rd party 라이브러리) -> pip install 하여 사용



#### 4-1. 파이썬 패키지 관리자(pip)

  - PyPI(python package Index)에 저장된 외부 패키지들을 설치하도록 도와주는 패키지 관리 시스템

  - pip install로 패키지 설치할 때 특정 버전이나 최소 버전 명시하여 설치 가능 

    특정버전 = `pip install 패키지명=버전명` / 최소 버전 = `pip install 패키지명>=버전명` 

    -> 버전 명시 없으면 자동으로 최신 버전 설치

  - `pip uninstall 패키지명`으로 패키지 삭제 가능

    - 업그레이드 시 이전 버전은 자동 삭제

  - `pip list` - 설치된 패키지 목록

  - `pip show 패키지명` - 현재 환경에 설치된 특정 패키지에 대한 정보(이름, 버전,홈페이지,경로, 연관된 패키지 등)

  - `pip freeze` - 현재 환경에 있는 패키지를 목록을 텍스트 파일로 저장

    - pip install에서 활용되는 형식(패키지명==버전)으로 출력하고, requirements.txt 파일로 저장
    - 파일명은 관습적으로 requirements.txt 을 대부분 사용하지만, 다른 이름도 가능은 함
    - `pip freeze > 파일명` : 파일명 지정 가능

  - `pip install -r requirements.txt` - freeze로 저장한 파일을 바탕으로 해당 패키지 모두 설치

    - 다른 컴퓨터에서 설치했던 패키지를 그대로 설치할 수 있으므로 또 다른 컴퓨터에서도 동일한 환경으로 작업 가능
    - 다른 컴퓨터들끼리 환경 맞추기 위한 목적
    - 다양한 파이썬 프로젝트에서 사용되고 있음 -> 깃헙 등에 포함

  - `pip install --upgrade pip` - pip 최신버전 업그레이드

</br>   

### 5. 가상환경

###### 서로에게 영향을 주지 않는, 독립적인 환경

- 파이썬 표준 라이브러리가 아닌 외부 패키지,모듈을 사용하려면 pip으로 설치해야 사용 가능
- 기본적으로 설치할 땐 global에 설치
- 여러 프로젝트를 하면 각각 버전이 상이할 수 있어서 프로젝트별로 독립적인 패키지를 관리하기 위해 가상환경 사용

#### 5-1. venv

###### 파이썬이 공식으로 제공하며, 가상환경을 만들고 관리하는 목적으로 사용하는 모듈 (python 3.5 버전부터 사용 가능)

- 특정 디렉토리에 가상환경을 만들고, 고유한 파이썬 패키지 집합 가질 수 있음

- 특정 폴더에 가상환경 실행파일이 있을 때, 그 폴더에서 가상환경 활성화하면 해당 가상환경에 있는 패키지 관리/사용 가능

  - `python -m venv 폴더명` - 가상환경 생성
    - 폴더명은 관습적으로 venv로 사용
  - `source venv/Scripts/activate` - git bash로 가상환경 활성화
  - `source venv/Scripts/activate.bat` - CMD로 가상환경 활성화
    - Mac이면 Scripts가 아닌 bin이긴 하지만 그냥 tab으로 자동완성하면 ok
  - `deactivate` - 가상환경 비활성화
  - `which python` - 가상환경 활성화 이후 사용하면 현재 가상환경의 경로 출력

- 폴더를 나간다고 가상환경이 종료되지 않음 -> 프로젝트 작업 종료할 땐 반드시 비활성화!

- 즉, 가상환경이 특정 폴더에 국한되어 있진 않음, `source` 명령어로 어느 경로에 있는  환경을 활성화하는냐의 차이

- 하지만 보통 각 프로젝트 폴더 최상단에서 환경 생성하고 해당 폴더 내에서 작업

- 프로젝트마다 환경 생성하는 이유 

  -> 다른 프로젝트에서 동일한 환경으로 작업한다면, 상대경로로 해당 환경이 있는 폴더로 이동해서 활성화시키는 방법도 있지만, 

  (1) 상대 경로로 굳이 어렵게 할 필요가 없기도 하고, 

  (2) 나중에 어느 환경을 썼었는지 헷갈릴 수 있기에 

  requirements.txt 파일을 이용하여 동일한 환경을 새로 만드는 것

- venv는 경로가 중요하기 때문에 경로 이동하면 동작하지 않을 수 있음 

  -> venv 복붙하지 말고 requirements.txt 파일을 이용하는 방법 사용해야 하는 이유

  -> 프로젝트 파일 자체를 이동하는 건 ok

- github에는 venv가 아닌 requirements.txt만 업로드
