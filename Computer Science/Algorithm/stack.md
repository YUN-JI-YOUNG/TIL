## 스택

###### 물건을 쌓아올리 듯 자료를 쌓아 올린 형태의 자료구조    

- 구조

  - 선형 구조      

  - 자료 간의 관계가 1 : 1의 관계를 갖는 구조         

- 스택에 자료를 삽입 하거나 꺼낼 수 있다     

- 후입선출(LIFO,  Last-In-First-Out) - 마지막에 삽입한 자료를 가장 먼저 꺼냄     

- 구현    

  - 자료구조 - 자료를 선형으로 저장할 저장소    
    - C언어에서는 배열 사용 가능    
    - 저장소 자체를 스택이라 부르기도 함     
    - 스택에 마지막 삽입된 원소의 위치를 `top`라 부름 (=stack pointer)     
  - 연산     
    - 삽입 - 자료 저장 (push)      
    - 삭제 - 자료를 삽입한 순서의 역순으로 꺼낸다 (pop)       
    - 공백인지 아닌지 확인 - isEmpty  <-> isNotEmpty(= `!isEmpty`)      
    - top에 있는 원소(item)를 확인 - peek      

  ```python
  5 스택 생성 - stack[0] * 5 
  
  push(n) - 
  top += 1
  stack[top] = n
  * 꽉찬 스택에 push할 때의 동작도 필요    
  
  pop(n) - 
  top -= 1
  return stack[top+1]
  * 빈 스택에 pop할 때의 동작도 필요   
  
  # 알고리즘   
  s = []
  def push():
      s.append(item)     
      
  def pop():
      if len(s) == 0:   # -> 이 부분은 디버깅 용도 (보통 공백인지 확인 후 pop하므로)
          # underflow (에러 메세지 작성)    
          return
      else:
          return s.pop(-1);
  
  ```

  - 고려사항    
    - 1차원 배열 사용하면 구현이 용이(`장점`)하지만, 스택의 크기변경이 어렵다(`단점`)       
      - 일반적으로 스택의 크기를 어림짐작하여 구현     
    - 이를 극복하기 위해 저장소를 동적으로 할당하여 스택을 구현하는 방법 존재    
      -  동적 연결리스트를 이용하여 구현     
      -  구현이 복잡(`단점`)하지만, 메모리를 효율적으로 사용한다(`장점`)       

- 응용1 - 괄호 검사  `[`,`]`,`{`,`}`, `(`,`)`       

  - 조건1 - 여는 괄호의 개수와 닫는 괄호의 개수 동일     
  - 조건2 - 같은 괄호에서 여는 괄호는 닫는 괄호보다 먼저 나와야 함    
  - 조건3 - 괄호 사이엔 포함 관계만 존재     
    - 여는 괄호나오면 push     
    - 닫는 괄호나오면 pop 하여 짝 맞는지 비교      
    - `수식이 끝났는데 스택에 무언가 남거나` or `닫는 괄호가 남았는데 빈 스택`  = 오류    

- 응용2 - function call     

  - 프로그램에서의 함수 호출, 복귀에 따른 수행 순서 관리      
    - 가장 마지막에 호출된 함수가 가장 먼저 실행 완료되고 복귀하는 후입선출 구조이므로 스택으로 수행 순서 관리 가능          
    - 과정   
      - 호출한 함수 수행에 필요한 정보를 스택 프레임에 저장하여 시스템 스택에 삽입     
      - 실행 종료 후 시스템 스택의 top(스택 프레임)을 **pop** -> 복귀 주소 확인 후 복귀     
      - 이 과정을 반복하며 전체 수행이 종료되면 시스템 스택은 공백 스택이 된다.     
  - 시스템 스택    
    - 스택 프레임(`__main__`) - > 스택프레임(F_1) -> 스택 프레임(F_2) 순으로 스택에 쌓임     
    - main 함수 실행하던 정보 -> F_1 함수 실행하던 정보 -> F_2 함수 실행하던 정보 ...     
      - 함수 수행에 필요한 지역변수, 매개변수 및 수행 후 복귀할 주소 등의 정보      
